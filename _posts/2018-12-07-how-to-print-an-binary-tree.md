---
layout: post
title: 如何用C++在命令行打印一颗漂亮的二叉树？
googlefonts: [Noto Sans SC]
---

## 为什么想要写这样一个东西
在大学期间，我一直有刷LeetCode的习惯，以前刷题的过程是在网页上直接写=>未通过=>复制到本地环境调试=>重新粘贴到网页上。  

后来我发现只要题目有一点难度，我就很难一次通过，总是要在重新建立本地环境debug上浪费很多时间。

之后我利用新学到的一些`Template Meta Programming`的技巧，写了一个易用的LeetCode测试框架（有点类似于半个单元测试框架），其代码和刷过的题目的解答在我的Github上。[Github仓库](https://github.com/CurryPseudo/LeetCode)

在我刷到[LeetCode94-二叉树的中序遍历](https://leetcode-cn.com/problems/binary-tree-inorder-traversal/)时，我想到，我要是每次都能像实例中这样打印出我的二叉树，而不是每次都在gdb中沿着指针痛苦的挣扎，那可就太好了。

>输入: [1,null,2,3]  
><pre>
>   1
>    \
>     2
>    /
>   3
></pre>
>输出: [1,3,2]  

难点就在于，我想支持二叉树节点的值是任意类型的，其转换成`string`的长度是不一的。同时由于在命令行打印，我要考虑每一行的长度，节点的对齐，连接节点的边的自适应等等。

如果有一个绘图库来绘制而非限制在命令行打印一棵树，那可能没有那么困难。

在考虑了一段时间以后，我发现不固定节点的字符串长度的话，这个问题会有相当的复杂度。我决定先实现一个定长的版本，若节点的字符串长于限定的长度，就截去多余的部分，只显示前n个字符，以后再考虑不定长的版本。

